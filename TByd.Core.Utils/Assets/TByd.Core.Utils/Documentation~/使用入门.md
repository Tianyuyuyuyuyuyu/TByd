# TByd.Core.Utils 使用入门

欢迎使用 TByd.Core.Utils 工具包！本指南将引导您完成安装过程并介绍基本使用方法，帮助您快速上手。

## 目录

1. [安装](#安装)
2. [基本用法](#基本用法)
3. [工具类概览](#工具类概览)
4. [常见问题](#常见问题)
5. [进阶学习](#进阶学习)

## 安装

### 方法1：通过Unity包管理器安装

1. 打开Unity编辑器
2. 选择 Window > Package Manager
3. 点击左上角的 "+" 按钮
4. 选择 "Add package from git URL..."
5. 输入: `https://github.com/tbyd/tbyd.core.utils.git#0.0.1-preview`
6. 点击 "Add"

### 方法2：手动安装

1. 下载最新版本的TByd.Core.Utils包
2. 将下载的文件夹拷贝到您的Unity项目的 Assets 目录下
3. 确保导入完成后没有编译错误

## 基本用法

一旦包被安装，您可以立即开始使用包中提供的工具类。以下是一些基本用法示例：

### 1. 使用 MathUtils 重映射值

```csharp
using TByd.Core.Utils.Runtime;
using UnityEngine;

public class HealthBarController : MonoBehaviour
{
    public float currentHealth = 75f;
    public float maxHealth = 100f;
    
    void UpdateHealthBar()
    {
        // 将生命值(0-100)映射到进度条比例(0-1)
        float fillAmount = MathUtils.Remap(currentHealth, 0f, maxHealth, 0f, 1f);
        healthBarImage.fillAmount = fillAmount;
    }
}
```

### 2. 使用 StringUtils 生成随机字符串

```csharp
using TByd.Core.Utils.Runtime;
using UnityEngine;

public class GenerateRandomCode : MonoBehaviour
{
    public void GenerateInviteCode()
    {
        // 生成一个6个字符的随机邀请码
        string inviteCode = StringUtils.GenerateRandom(6);
        Debug.Log($"您的邀请码: {inviteCode}");
    }
}
```

### 3. 使用 TransformExtensions 管理子物体

```csharp
using TByd.Core.Utils.Runtime.Extensions;
using UnityEngine;

public class UIManager : MonoBehaviour
{
    private void SetupUI()
    {
        // 查找或创建UI容器
        Transform uiRoot = transform.FindOrCreateChild("UI_Root");
        
        // 重置其变换
        uiRoot.ResetLocal();
        
        // 获取所有激活的子UI元素
        List<Transform> activeUIElements = uiRoot.GetAllChildren(includeInactive: false);
        
        // 递归查找特定UI元素
        Transform settingsPanel = transform.FindRecursive("SettingsPanel");
    }
}
```

## 工具类概览

TByd.Core.Utils 包含以下核心工具类：

### MathUtils

数学工具类，提供扩展的数学和几何计算方法：

- **SmoothDamp** - 平滑阻尼插值，适用于相机跟随和UI动画
- **Remap** - 将值从一个范围重映射到另一个范围
- **DirectionToRotation** - 将方向向量转换为旋转四元数
- **IsPointInPolygon** - 检测点是否在多边形内

### StringUtils

字符串工具类，提供高效的字符串处理方法：

- **IsNullOrWhiteSpace** - 检查字符串是否为null或仅包含空白字符
- **GenerateRandom** - 生成指定长度的随机字符串
- **ToSlug** - 将字符串转换为URL友好的格式
- **Truncate** - 将长字符串截断为指定长度并添加后缀
- **Split** - 高效地分割字符串，减少内存分配

### TransformExtensions

Transform组件的扩展方法集合：

- **ResetLocal** - 重置本地位置、旋转和缩放
- **SetLocalX/Y/Z** - 设置本地位置的单个分量
- **SetX/Y/Z** - 设置世界位置的单个分量
- **GetAllChildren** - 获取所有子物体
- **DestroyAllChildren** - 销毁所有子物体
- **FindOrCreateChild** - 查找或创建子物体
- **FindRecursive** - 递归查找子物体

## 常见问题

### 导入包后出现编译错误

**问题**: 导入包后看到编译错误。

**解决方案**:
1. 确保您的Unity版本为2021.3.8f1或更高版本
2. 检查是否有依赖项缺失
3. 尝试重新启动Unity

### 找不到某些类或方法

**问题**: 代码中无法找到包中提供的类或方法。

**解决方案**:
1. 确保添加了正确的using语句：
   ```csharp
   using TByd.Core.Utils.Runtime;          // 用于MathUtils和StringUtils
   using TByd.Core.Utils.Runtime.Extensions; // 用于TransformExtensions
   ```
2. 检查是否引用了正确版本的包
3. 尝试在Package Manager中刷新包

### 使用示例代码但效果不一致

**问题**: 复制了示例代码，但实际效果与预期不同。

**解决方案**:
1. 查看方法的详细文档，了解所有参数
2. 检查是否为值类型传递了正确的引用（例如使用`ref`关键字）
3. 尝试导入和运行示例场景，观察正确的使用方式

## 进阶学习

要深入了解TByd.Core.Utils，请查阅以下资源：

- [API文档](./API文档.md) - 详细的API参考
- [使用手册](./使用手册.md) - 包含详细示例和最佳实践
- [示例场景说明](./示例场景说明.md) - 示例场景的详细说明
- [开发者指南](./开发者指南.md) - 如果您想贡献代码

您还可以查看包中的示例场景，它们展示了各种工具的实际使用场景。

---

如果您有任何问题或建议，请通过GitHub Issues或项目文档中提供的联系方式与我们联系。 